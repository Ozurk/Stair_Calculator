<StairCalc>
    StartScreen:
    StairSize:
    Flight_Calculator:

<StartScreen>
    name: "StartScreen"
    Image:
        source: "background.png"
        size_hint: None, None
        height: root.height
        width: root.width
        fit_mode: "fill"

    BoxLayout:
        orientation: "vertical"
        spacing: 30
        RelativeLayout:
            Label:
                id: MainLabel
                pos_hint: {"x": 0, "y": .9}
                size_hint_y: .1
                canvas.before:
                    Color:
                        rgba: (.6, .6, .6, 1)
                    Rectangle:
                        size: self.size
                        pos: self.pos
                text: "Stair Calculator" 
                font_size: 70
                font_name: "fonts/cambriaz.ttf"
                color: (.1, .1, .2, 1)

            Button:
                pos_hint: {"center_x": .5, "center_y": .5}
                text: "Begin"
                font_name: "fonts/cambria.ttc"
                font_size: 50
                on_press: app.root.current = "Calculate"
                text_size: self.size
                halign: "center"
                valign: "middle"
                size_hint: (.5, .1)

<StairSize>
    name: "Calculate"
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "StairCalculator"
            size_hint_y: .1
        BoxLayout:
            orientation: 'horizontal'  
            RelativeLayout:    
                ScrollView:
                    id: DisplayScreen
                    do_scroll_x: True
                    do_scroll_y: True
                    scroll_type: ['bars', 'content']
                    effect_cls: 'ScrollEffect'
                    bar_width: 10
                    scale: 10  # Default zoom level
                    minimum_zoom: 0.1
                    maximum_zoom: 10
                Label:
                    id: FlightAngleLabel
                    size_hint: .3, .2
                    pos_hint: {'right': .75}
                    text: 'Flight Angle: ' + str(root.flight_angle)
            Label:
                id: StairCaseheightLabel
                text: 'Flight Height\n' + str(root.staircase_height) 
                text_size: self.size
                halign: 'center'
                valign: 'middle'
                size_hint_x: .15  # Ensure this matches your desired size
                canvas.before:
                    Color:
                        rgba: (.2, .2, .2, 1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
        Label:
            id: StairCaseRunLabel
            text: "StairCase Run " + str(root.staircase_run) 
            size_hint_y: .15
            canvas.before:
                Color:
                    rgba: (.2, .2, .2, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
        BoxLayout:
            orientation: "horizontal" 
            size_hint_y: .25
            # User Input Varibles For Stair
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Stair Info"
                BoxLayout:
                    Label:
                        text: "Stair Depth"
                        text_size: self.size
                    TextInput:
                        id: StairX
                        text: str(root.stairx)
                        on_focus: if self.text == "Stair Tread Depth": self.text = ""
                        input_type: "number"
                    Label:
                        text: "Stair Height"
                        text_size: self.size
                    TextInput:
                        id: StairY
                        text: str(root.stairy)
                        on_focus: if self.text == "Stair Height": self.text = ""
                        input_type: "number"
            # User Input Varibles For StairCase
            BoxLayout:
                orientation: "vertical"
                Label:
                    text_size: self.size
                    text: "Stair Case Info"
                BoxLayout:
                    Label:
                        text: 'Flight Depth'
                        text_size: self.size
                    TextInput:
                        id: StairCaseX
                        text: str(root.staircase_run)
                        on_focus: if self.text == "Stair Case Depth": self.text = ""
                        input_type: "number"
                    Label:
                        text_size: self.size
                        text: "Flight Height"
                    TextInput:
                        id: StairCaseY
                        text: str(root.staircase_height)
                        on_focus: if self.text == "Stair Case Height": self.text = ""
                        input_type: "number"
        BoxLayout:
            size_hint_y: .2
            Label:
                text: "Number of Stairs"
            TextInput:
                id: NumberofStairs
                input_type: "number"
                text: str(root.number_of_stairs)
                on_focus: if self.text == "Number of Stairs": self.text = ""
            Button:
                on_press: root.submit()
                text: "Calculate"
    
    

<Step>
    size_hint: None, None
    canvas.before:
        Color:
            rgba: .1, .3, .5, .5
        Rectangle:
            size: self.size
            pos: self.pos